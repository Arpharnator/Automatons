<?xml version="1.0" encoding="utf-8" ?>
<Datatable xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema" xsi:noNamespaceSchemaLocation="../Schemas/IndustryConstructibleElement.xsd">

    <StarSystemImprovementDefinition Name="StarSystemImprovementDenseOrbitals" SubCategory="SubCategoryPopulation" ScoreProvider="StarSystemImprovementBuilt">
        <SupervisorGain Name="Food" Weight="0.25" />
        <SupervisorGain Name="Industry" Weight="0.25" />
        <SupervisorGain Name="Science" Weight="0.25" />
        <SupervisorGain Name="Dust" Weight="0.25" />
        <SupervisorGain Name="Approval" Weight="0.25" />
        <Tags>NoBuyout</Tags>
        <Cost ResourceName="SystemTurnBased">2</Cost>
        <PathPrerequisite Inverted="true" Flags="Prerequisite,Discard">ClassColonizedStarSystem/StarSystemImprovementDenseOrbitals,!FastForwardedImprovement</PathPrerequisite>
        <PathPrerequisite Flags="Prerequisite,Discard">ColonizedStarSystemStateColony</PathPrerequisite>
        <PathPrerequisite Inverted="false" Flags="Prerequisite,Discard,UnlockAvailability,Faction,AffinityGameplayAutomatons">../ClassEmpire,AffinityGameplayAutomatons</PathPrerequisite>
        <TechnologyPrerequisite Flags="Prerequisite,Discard,Technology">TechnologyUnique10Automatons</TechnologyPrerequisite>
        <SimulationDescriptorReference Name="StarSystemImprovementDenseOrbitals" />
        <SimulationDescriptorReference Name="StarSystemImprovementUpkeepStage4Normal"/>
        <PopulationEvent Name="PopulationPoliticalEventBuildingConstructionPopulationSlot1"/>
    </StarSystemImprovementDefinition>

    <StarSystemImprovementDefinition Name="StarSystemImprovementIndustryTotal">
        <CustomCost ResourceName="SystemProduction">Property(StockLocation,@ClassColonizedStarSystem, SystemProductionStock) / Property(StockLocation, @../ClassEmpire, GameSpeedMultiplier, true)</CustomCost>
        <CustomCost ResourceName="EmpireMoney">Property(StockLocation,@ClassColonizedStarSystem, MaximumSystemProductionStock)</CustomCost>
        <PathPrerequisite Flags="Prerequisite,Discard">ColonizedStarSystemStateColony</PathPrerequisite>
        <PathPrerequisite Inverted="true" Flags="Prerequisite,Disable">../ClassEmpire,AffinityGameplayAutomatons</PathPrerequisite>
        <PathPrerequisite Inverted="false" Flags="Prerequisite,Discard,UnlockAvailability,Faction">../ClassEmpire,AffinityGameplayAutomatons</PathPrerequisite>
        <SimulationDescriptorReference Name="StarSystemImprovementIndustryTotal" />
    </StarSystemImprovementDefinition>

    <StarSystemImprovementDefinition Name="StarSystemImprovementIndustry6Automatons" SubCategory="SubCategoryIndustry" ScoreProvider="StarSystemImprovementBuilt">
        <SupervisorGain Name="Industry"/>
        <Cost ResourceName="SystemProduction">2240</Cost>
        <Cost ResourceName="Strategic3" Instant="true">15</Cost>
        <PathPrerequisite Flags="Prerequisite,Discard">ColonizedStarSystemStateColony</PathPrerequisite>
        <PathPrerequisite Inverted="true" Flags="Prerequisite,Discard">ClassColonizedStarSystem/StarSystemImprovementIndustry6Automatons,!FastForwardedImprovement</PathPrerequisite>
        <TechnologyPrerequisite Flags="Prerequisite,Discard,Technology">TechnologyIndustry6Automatons</TechnologyPrerequisite>
        <SimulationDescriptorReference Name="StarSystemImprovementIndustry6Automatons"/>
        <SimulationDescriptorReference Name="StarSystemImprovementUpkeepStage4Normal"/>
        <SimulationDescriptorReference Name="IsIndustryBuilding"/>
        <PopulationEvent Name="PopulationPoliticalEventBuildingConstructionIndustry1"/>
    </StarSystemImprovementDefinition>


    <PlanetTerraformationDefinition Name="PlanetTerraformationFromOceanToTerran" SubCategory="PlanetTerraformationDust">

        <AIGain RessourceName="IndustryGain"/>
        <SupervisorGain Name="Food" Weight="1"/>
        <SupervisorGain Name="Industry" Weight="1"/>
        <SupervisorGain Name="Science" Weight="1"/>
        <SupervisorGain Name="Dust" Weight="1"/>
        <SupervisorGain Name="Approval" Weight="0"/>

        <Tags>PlanetTerraformationOnlyViaSystem</Tags>
        <CustomCost ResourceName="SystemProduction">560 * Property(StockLocation, @../ClassEmpire, TerraformationModifier) * (1 - Property(StockLocation, @ClassColonizedStarSystem, BuildingProductionCostReduction)) * (1 - Property(StockLocation, @ClassColonizedStarSystem, GameSpeedProductionCostReduction))</CustomCost>

        <PathPrerequisite Inverted="false" Flags="Prerequisite,Discard,UnlockAvailability,Faction">../ClassEmpire,AffinityGameplayAutomatons</PathPrerequisite>

        <PathPrerequisite Flags="Prerequisite,Discard" Inverted="false">PlanetTypeOcean</PathPrerequisite>
        <MetaPrerequisite Operator="Or">
            <PathPrerequisite Inverted="false" Flags="Prerequisite,Discard">../ClassEmpire,EmpireImprovementTerraformation1</PathPrerequisite>
            <PathPrerequisite Inverted="false" Flags="Prerequisite,Discard">../ClassEmpire,EmpireImprovementTerraformation2TimeLords</PathPrerequisite>
        </MetaPrerequisite>
        <MetaPrerequisite Operator="Or">
            <TechnologyPrerequisite UnlockHidden="true" Flags="Technology,Prerequisite,Discard,CheckOnEmpire">TechnologyTerraformation1</TechnologyPrerequisite>
            <TechnologyPrerequisite UnlockHidden="true" Flags="Technology,Prerequisite,Discard,CheckOnEmpire">TechnologyTerraformation2TimeLords</TechnologyPrerequisite>
        </MetaPrerequisite>

        <SimulationDescriptorReference Name="PlanetTypeTerran"/>
        <SimulationDescriptorReference Name="PlanetGameplayTypeTeeming"/>
        <SimulationDescriptorReference Name="PlanetGameplayTypeTemperate"/>

        <RemovedType>PlanetType</RemovedType>
        <RemovedType>PlanetGameplayType</RemovedType>
    </PlanetTerraformationDefinition>


    <PlanetTerraformationDefinition Name="PlanetTerraformationFromForestToTerran" SubCategory="PlanetTerraformationDust">

        <AIGain RessourceName="IndustryGain"/>
        <SupervisorGain Name="Food" Weight="1"/>
        <SupervisorGain Name="Industry" Weight="1"/>
        <SupervisorGain Name="Science" Weight="1"/>
        <SupervisorGain Name="Dust" Weight="1"/>
        <SupervisorGain Name="Approval" Weight="0"/>

        <Tags>PlanetTerraformationOnlyViaSystem</Tags>
        <CustomCost ResourceName="SystemProduction">560 * Property(StockLocation, @../ClassEmpire, TerraformationModifier) * (1 - Property(StockLocation, @ClassColonizedStarSystem, BuildingProductionCostReduction)) * (1 - Property(StockLocation, @ClassColonizedStarSystem, GameSpeedProductionCostReduction))</CustomCost>

        <PathPrerequisite Inverted="false" Flags="Prerequisite,Discard,UnlockAvailability,Faction">../ClassEmpire,AffinityGameplayAutomatons</PathPrerequisite>

        <PathPrerequisite Flags="Prerequisite,Discard" Inverted="false">PlanetTypeForest</PathPrerequisite>
        <MetaPrerequisite Operator="Or">
            <PathPrerequisite Inverted="false" Flags="Prerequisite,Discard">../ClassEmpire,EmpireImprovementTerraformation1</PathPrerequisite>
            <PathPrerequisite Inverted="false" Flags="Prerequisite,Discard">../ClassEmpire,EmpireImprovementTerraformation2TimeLords</PathPrerequisite>
        </MetaPrerequisite>
        <MetaPrerequisite Operator="Or">
            <TechnologyPrerequisite UnlockHidden="true" Flags="Technology,Prerequisite,Discard,CheckOnEmpire">TechnologyTerraformation1</TechnologyPrerequisite>
            <TechnologyPrerequisite UnlockHidden="true" Flags="Technology,Prerequisite,Discard,CheckOnEmpire">TechnologyTerraformation2TimeLords</TechnologyPrerequisite>
        </MetaPrerequisite>

        <SimulationDescriptorReference Name="PlanetTypeTerran"/>
        <SimulationDescriptorReference Name="PlanetGameplayTypeTeeming"/>
        <SimulationDescriptorReference Name="PlanetGameplayTypeTemperate"/>

        <RemovedType>PlanetType</RemovedType>
        <RemovedType>PlanetGameplayType</RemovedType>
    </PlanetTerraformationDefinition>



    <PlanetTerraformationDefinition Name="PlanetTerraformationFromAtollToTerran" SubCategory="PlanetTerraformationDust">

        <AIGain RessourceName="IndustryGain"/>
        <SupervisorGain Name="Food" Weight="1"/>
        <SupervisorGain Name="Industry" Weight="1"/>
        <SupervisorGain Name="Science" Weight="1"/>
        <SupervisorGain Name="Dust" Weight="1"/>
        <SupervisorGain Name="Approval" Weight="0"/>

        <Tags>PlanetTerraformationOnlyViaSystem</Tags>
        <CustomCost ResourceName="SystemProduction">560 * Property(StockLocation, @../ClassEmpire, TerraformationModifier) * (1 - Property(StockLocation, @ClassColonizedStarSystem, BuildingProductionCostReduction)) * (1 - Property(StockLocation, @ClassColonizedStarSystem, GameSpeedProductionCostReduction))</CustomCost>

        <PathPrerequisite Inverted="false" Flags="Prerequisite,Discard,UnlockAvailability,Faction">../ClassEmpire,AffinityGameplayAutomatons</PathPrerequisite>

        <PathPrerequisite Flags="Prerequisite,Discard" Inverted="false">PlanetTypeAtoll</PathPrerequisite>
        <MetaPrerequisite Operator="Or">
            <PathPrerequisite Inverted="false" Flags="Prerequisite,Discard">../ClassEmpire,EmpireImprovementTerraformation1</PathPrerequisite>
            <PathPrerequisite Inverted="false" Flags="Prerequisite,Discard">../ClassEmpire,EmpireImprovementTerraformation2TimeLords</PathPrerequisite>
        </MetaPrerequisite>
        <MetaPrerequisite Operator="Or">
            <TechnologyPrerequisite UnlockHidden="true" Flags="Technology,Prerequisite,Discard,CheckOnEmpire">TechnologyTerraformation1</TechnologyPrerequisite>
            <TechnologyPrerequisite UnlockHidden="true" Flags="Technology,Prerequisite,Discard,CheckOnEmpire">TechnologyTerraformation2TimeLords</TechnologyPrerequisite>
        </MetaPrerequisite>

        <SimulationDescriptorReference Name="PlanetTypeTerran"/>
        <SimulationDescriptorReference Name="PlanetGameplayTypeTeeming"/>
        <SimulationDescriptorReference Name="PlanetGameplayTypeTemperate"/>

        <RemovedType>PlanetType</RemovedType>
        <RemovedType>PlanetGameplayType</RemovedType>
    </PlanetTerraformationDefinition>
</Datatable>